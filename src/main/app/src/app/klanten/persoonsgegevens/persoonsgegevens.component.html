<!--
  ~ SPDX-FileCopyrightText: 2022 Atos
  ~ SPDX-License-Identifier: EUPL-1.2+
  -->

<div class="flex-row flex-wrap">
    <mat-expansion-panel class="flex-1 w100"
                         [expanded]="klantExpanded"
                         (expandedChange)="klantExpandedChanged($event)">
        <mat-expansion-panel-header>
            <mat-panel-title>{{'initiator.titel'| translate}}</mat-panel-title>
            <mat-panel-description>
                <zac-skeleton-loader [loading$]="persoon$">{{persoon?.naam}}</zac-skeleton-loader>
                <div>
                    <button *ngIf="persoon && isWijzigbaar" [title]="'actie.initiator.wijzigen' | translate" mat-icon-button
                            (click)="$event.stopPropagation(); edit.emit(persoon)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button *ngIf="persoon && isVerwijderbaar" [title]="'actie.verwijderen' | translate" mat-icon-button
                            (click)="$event.stopPropagation(); delete.emit(persoon)">
                        <mat-icon>delete</mat-icon>
                    </button>
                    <a *ngIf="persoon" mat-icon-button [routerLink]="['/persoon', persoon.bsn]"
                       (click)="$event.stopPropagation()"
                       [id]="'persoonBekijken_' + persoon.bsn +'_button'"
                       title="{{ 'actie.persoon.bekijken' | translate }}">
                        <mat-icon>visibility</mat-icon>
                    </a>
                </div>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <zac-skeleton-loader [loading$]="persoon$"
                             [options]="{layout: skeletonLayout.FIELDS, fields:7, fieldsPerRow:1}">

            <div id="persoonsgegevens" class="content flex-row flex-wrap justify-start">
                <zac-static-text class="flex-1" [label]="'naam' | translate"
                                 [value]="persoon?.naam"></zac-static-text>
                <zac-static-text class="flex-1" [label]="'burgerservicenummer' | translate"
                                 [value]="bsn"></zac-static-text>
                <zac-static-text class="flex-1" [label]="'geboortedatum' | translate"
                                 [value]="persoon?.geboortedatum | datum"></zac-static-text>
                <zac-static-text class="flex-1" [label]="'verblijfplaats' | translate"
                                 [value]="persoon?.verblijfplaats | empty"></zac-static-text>
                <zac-static-text class="flex-1" [label]="'telefoonnummer' | translate"
                                 [value]="persoon?.telefoonnummer | empty"></zac-static-text>
                <zac-static-text class="flex-1" [label]="'emailadres' | translate"
                                 [value]="persoon?.emailadres | empty"></zac-static-text>
            </div>
        </zac-skeleton-loader>
    </mat-expansion-panel>
</div>
